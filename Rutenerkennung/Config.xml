<?xml version="1.0" encoding="UFT-8"?>
<Rutenerkennung>
	<MSER_Config>
		<Delta>7</Delta>
		<Min_Area>1200</Min_Area>
		<Max_Area>7000</Max_Area>
		<Max_Variation>0.3</Max_Variation>
		<Min_Diversity>0.9</Min_Diversity>
		<Max_Evolution>10</Max_Evolution>
		<Area_Threshold>0.1</Area_Threshold>
		<Min_Argin>0.003</Min_Argin>
		<Edge_Blur_Size>5</Edge_Blur_Size>
	</MSER_Config>

	<!-- Simple Blob Detection -->
	<SBT_Config>
	</SBT_Config>

	<Erkennung>
		<!-- Minimale Anzahl der notwendigen Detektion eines Stecklings
			bis Position als plausibel angenommen werden kann -->
		<Min_Wiedererkennungen>10</Min_Wiedererkennungen>
		<!-- Maximale Abweichung der Position des Stecklins, in der
			ein Wiederereknnen akzeptiert ist, in px -->
                <Max_Abweichung>10</Max_Abweichung>
		<!-- Schwellwert zur Erstellung des Binärbildes -->
                <Threshold_SW>30</Threshold_SW>
                <Mask>
                   <Point id="1">
                    <x>308</x>
                    <y>67</y>
                   </Point>
                   <Point id="2">
                    <x>355</x>
                    <y>142</y>
                   </Point>
                   <Point id="3">
                    <x>342</x>
                    <y>244</y>
                   </Point>
                   <Point id="4">
                    <x>294</x>
                    <y>295</y>
                   </Point>
                   <Point id="5">
                    <x>184</x>
                    <y>294</y>
                   </Point>
                   <Point id="6">
                    <x>94</x>
                    <y>211</y>
                   </Point>
                   <Point id="7">
                    <x>76</x>
                    <y>84</y>
                   </Point>
                   <Point id="8">
                    <x>93</x>
                    <y>20</y>
                   </Point>
                   <Point id="9">
                    <x>120</x>
                    <y>3</y>
                   </Point>
                   <Point id="10">
                    <x>190</x>
                    <y>4</y>
                   </Point>
                   <Point id="11">
                    <x>252</x>
                    <y>26</y>
                   </Point>
                  </Mask>
	</Erkennung>

	<Kommunikation>
		<Baudrate>115200</Baudrate>
                <Serial>/dev/ttyACM0</Serial>
	</Kommunikation>

	<Stecklinge>
		<Groesse>
			<!-- DURCHMESSER IN MM -->
                        <Min>10.0</Min>
                        <Max>30.0</Max>
		</Groesse>		
	</Stecklinge>

	<Video>
		<!-- Entscheidung über:
			bool ok = false;
			int cam = str.toInt(&ok, 10);       // dec == 0, ok == false
			if (ok) Quelle ist Kamera -> cap(cam);
			else
				Quelle ist Bild oder Video -> cap(str)
                 Kamera -->
                <Quelle>0</Quelle>
		<!-- Bild 
		<Quelle>"/home/pi/Desktop/Rute.JPG"</Quelle>  -->
		<!-- Video 
		<Quelle>"/home/pi/Desktop/Ruten.MP4"</Quelle> -->
	</Video>


	<Camera>
		<!-- Punkte zur Einmessung der Koordinatensysteme -->
		<Calibration>
			<Point id="1">
				<x>20</x>
				<y>20</y>
			</Point>
			<Point id="2">
				<x>270</x>
				<y>20</y>
			</Point>
			<Point id="3">
				<x>270</x>
				<y>180</y>
			</Point>
			<Point id="4">
				<x>20</x>
				<y>180</y>
			</Point>
			<Point id="5">
				<x>130</x>
				<y>90</y>
			</Point>
		</Calibration>

		<Rotation>
			<r id="11">-0.51302803</r>
			<r id="12">0.021497726</r>
			<r id="21">-0.015044034</r>
			<r id="22">-0.53004223</r>
		</Rotation>	
	
		<Translation>
			<Point>
				<x>298.63617</x>
				<y>232.82028</y>
			</Point>
		</Translation>	
	</Camera>

</Rutenerkennung>
